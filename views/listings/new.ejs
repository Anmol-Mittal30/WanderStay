<% layout("/layouts/boilerplate") %>

<link rel="stylesheet" href="/css/listings.css" />

<div class="row justify-content-center my-5">
  <div class="col-lg-10">
    <div class="card shadow-lg border-0 rounded-4">
      <div class="row g-0">
        <div
          class="col-md-5 p-4 d-flex align-items-center justify-content-center"
        >
          <label
            for="imageUpload"
            class="upload-placeholder w-100"
            id="upload-label"
          >
            <div id="imagePlaceholder" class="text-center">
              <i
                class="bi bi-image"
                style="font-size: 4rem; color: #adb5bd"
              ></i>
              <p class="text-muted mt-2"><b>Click to upload image</b></p>
            </div>
            <img
              id="listingPreview"
              src=""
              class="d-none"
              alt="Listing Preview"
            />
          </label>
        </div>

        <div class="col-md-7 p-4 p-md-5">
          <h2 class="fw-bold mb-2">Tell us about your place</h2>
          <p class="text-muted mb-4">
            Share some basic info, like where it is and how price affordable ,
            surroundings .
          </p>
          <form
            method="POST"
            action="/listings/"
            novalidate
            class="needs-validation"
            enctype="multipart/form-data"
          >
            <div class="mb-3">
              <label for="title" class="form-label">Title</label>
              <input
                type="text"
                name="listing[title]"
                id="title"
                class="form-control"
                placeholder="Cozy Cottage by the Lake"
                required
              />
              <div class="valid-feedback">Looks good!</div>
            </div>

            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea
                name="listing[description]"
                id="description"
                class="form-control"
                rows="3"
                placeholder="Give your guests a feel for your place."
                required
                maxlength="500"
              ></textarea>

              <div class="form-text text-end me-1">
                <span id="charCount">0</span> / 500
              </div>

              <div class="invalid-feedback">A description is required.</div>
            </div>

            <input
              type="file"
              name="listing[image]"
              id="imageUpload"
              class="d-none"
              accept="image/*"
              required
            />

            <div class="invalid-feedback mb-3" id="image-error">
              Please upload an image for the listing.
            </div>

            <div class="mb-3">
              <label for="category" class="form-label">Category</label>
              <select name="listing[category]" class="form-select" required>
                <option selected disabled value="">Choose a category</option>
                <option value="Trending">Trending</option>
                <option value="Rooms">Rooms</option>
                <option value="Iconic Cities">Iconic Cities</option>
                <option value="Mountains">Mountains</option>
                <option value="Castles">Castles</option>
                <option value="Amazing Pools">Amazing Pools</option>
                <option value="Camping">Camping</option>
                <option value="Farms">Farms</option>
                <option value="Arctic">Arctic</option>
                <option value="Domes">Domes</option>
                <option value="Boats">Boats</option>
              </select>
              <div class="invalid-feedback">Please select a category.</div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="price" class="form-label">Price per night</label>
                <div class="input-group">
                  <span class="input-group-text">â‚¹</span>
                  <input
                    type="number"
                    name="listing[price]"
                    class="form-control"
                    placeholder="1200"
                    required
                  />
                  <div class="invalid-feedback">
                    Price should be a valid number.
                  </div>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="country" class="form-label">Country</label>
                <input
                  name="listing[country]"
                  class="form-control"
                  placeholder="India"
                  required
                />
                <div class="invalid-feedback">Please provide a country.</div>
              </div>
            </div>

            <div class="mb-4">
              <label for="location" class="form-label">Location</label>
              <input
                name="listing[location]"
                class="form-control"
                placeholder="Jaipur, Rajasthan"
                required
              />
              <div class="invalid-feedback">Location should be valid.</div>
            </div>

            <button class="btn btn-danger btn-lg w-100">Create Listing</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/js/new.js"></script>
